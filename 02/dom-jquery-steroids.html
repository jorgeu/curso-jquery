<html>
<script type="text/javascript" src="jquery/jquery-1.7.2.min.js"></script>
<script type="text/javascript">

$(document).ready(function() {
  $('#btn').click(function() {
    var href=$("#href").val();
    var texto=$("#texto").val();
    $("#listado").append(
       $('<li></li>').append(
        (/\.(jpg|gif|png|svg|tiff)$/.test(href)) ?
         $('<img></img>').attr('src',href).attr("style","width:100px;")
                     .attr("alt",texto)
         :
         $('<a></a>').attr('href',href)
                     .text(texto)
       ).append(
         $('<img></img>').attr('src','delete.png')
           .click(function(){ $(this).parent().remove(); })
       )
    );
    $("#texto").val('');
    $("#href").val('');
  });
});
</script>
<body>
    <input type="text" id="texto" name="texto"/><br/>
    <input type="text" id="href" name="href"/> <br/>
    
    <button id="btn">agregar</button>
    
    <ul id="listado">
    </ul>
    
    <input type="hidden" name="valores" id="valores"/>
</body>
</html>
